<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Time Zone Converter</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f8f9fa;
    padding: 20px;
  }
  .container {
    border: 3px solid orange;
    border-radius: 15px;
    padding: 20px;
    background: #fff;
    max-width: 900px;
    margin: auto;
  }
  .title {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 15px;
  }
  .timezone-row {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 20px;
  }
  .timezone-box {
    flex: 1;
    min-width: 300px;
    border: 2px solid #1a1f36;
    border-radius: 10px;
    padding: 15px;
  }
  label {
    font-size: 0.8rem;
    font-weight: bold;
    color: #6b7280;
    text-transform: uppercase;
    display: block;
    margin-bottom: 5px;
  }
  select, input {
    width: 100%;
    padding: 8px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 1rem;
  }
  .time-display {
    font-size: 1.6rem;
    font-weight: bold;
    margin: 10px 0;
  }
  .slider {
    width: 100%;
  }
  .labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    color: #6b7280;
  }
  .difference-box {
    border: 2px solid #2563eb;
    border-radius: 10px;
    padding: 15px;
    margin-top: 10px;
  }
  .highlight-green {
    color: green;
    font-weight: bold;
  }
  .overlap {
    margin-top: 10px;
    font-size: 0.9rem;
  }
  .overlap strong {
    background: #d1fae5;
    padding: 3px 6px;
    border-radius: 4px;
  }
  .toggle-btn {
    margin-top: 10px;
    padding: 6px 10px;
    font-size: 0.9rem;
    cursor: pointer;
    border: 1px solid #ccc;
    border-radius: 6px;
    background: #fff;
  }
  @media (max-width: 700px) {
    .timezone-row {
      flex-direction: column;
    }
  }
</style>
</head>
<body>
<div class="container">
  <div class="title">Time Zone Converter</div>
  <div class="timezone-row">
    <div class="timezone-box">
      <label class="highlight-green">Rep’s Timezone</label>
      <select id="repTimezone"></select>
      <div id="repTime" class="time-display">--:--</div>
      <input type="range" id="repSlider" class="slider" min="0" max="1439">
      <div class="labels">
        <span id="repLabelStart">6 AM</span>
        <span id="repLabelMid">12 PM</span>
        <span id="repLabelEnd">6 PM</span>
      </div>
    </div>
    <div class="timezone-box">
      <label class="highlight-green">Prospect's Timezone</label>
      <input type="text" id="prospectCountry" placeholder="Input Country">
      <label>Choose Time Zone</label>
      <select id="prospectTimezone"></select>
      <div id="prospectTime" class="time-display">--:--</div>
      <input type="range" id="prospectSlider" class="slider" min="0" max="1439">
      <div class="labels">
        <span id="prospectLabelStart">6 AM</span>
        <span id="prospectLabelMid">12 PM</span>
        <span id="prospectLabelEnd">6 PM</span>
      </div>
      <button id="toggleMilitary" class="toggle-btn">Toggle Military Time</button>
    </div>
  </div>
  <div class="difference-box">
    <div id="timeDifference">--</div>
    <div class="overlap" id="overlapHours">--</div>
  </div>
</div>

<script>
  const repSelect = document.getElementById("repTimezone");
  const prospectSelect = document.getElementById("prospectTimezone");
  const countryInput = document.getElementById("prospectCountry");
  const repTimeDisplay = document.getElementById("repTime");
  const prospectTimeDisplay = document.getElementById("prospectTime");
  const repSlider = document.getElementById("repSlider");
  const prospectSlider = document.getElementById("prospectSlider");
  const diffDisplay = document.getElementById("timeDifference");
  const overlapDisplay = document.getElementById("overlapHours");
  const toggleBtn = document.getElementById("toggleMilitary");

  let militaryMode = false;
  const tzData = {
    "United States": ["America/New_York","America/Chicago","America/Denver","America/Los_Angeles"],
    "Canada": ["America/Toronto","America/Winnipeg","America/Vancouver"],
    "Germany": ["Europe/Berlin"],
    "China": ["Asia/Shanghai"]
  };
  
  function populateRepTimezones(){
    Object.values(tzData).flat().forEach(tz=>{
      const opt=document.createElement("option");
      opt.value=tz;
      opt.textContent=tz.split("/").pop().replace("_"," ");
      repSelect.appendChild(opt);
    });
  }

  function populateProspectZones(country){
    prospectSelect.innerHTML="";
    (tzData[country]||[]).forEach(tz=>{
      const opt=document.createElement("option");
      opt.value=tz;
      opt.textContent=tz;
      prospectSelect.appendChild(opt);
    });
  }

  function formatTime(minutes, military=false){
    const hrs=Math.floor(minutes/60);
    const mins=minutes%60;
    if(military){
      return `${hrs.toString().padStart(2,"0")}:${mins.toString().padStart(2,"0")}`;
    } else {
      const period=hrs>=12?"PM":"AM";
      const hour12=hrs%12||12;
      return `${hour12}:${mins.toString().padStart(2,"0")} ${period}`;
    }
  }

  function updateTimes(){
    const repOffset=repSlider.value;
    const prospectOffset=prospectSlider.value;
    repTimeDisplay.textContent=formatTime(Number(repOffset));
    prospectTimeDisplay.textContent=formatTime(Number(prospectOffset), militaryMode);
    const diffHours=(Number(prospectOffset)-Number(repOffset))/60;
    const diffText=`<span class="highlight-green">${prospectSelect.value||'Selected Timezone'}</span> is ${Math.abs(diffHours)} hours ${diffHours>0?'ahead':'behind'} ${repSelect.value}`;
    diffDisplay.innerHTML=diffText;
    overlapDisplay.innerHTML=`<span class="highlight-green">Overlapping business hours:</span> <strong>${formatTime(540)}–${formatTime(1020)}</strong> <span style="color:green;font-weight:bold;">↔</span> <strong>${formatTime(540+diffHours*60,militaryMode)}–${formatTime(1020+diffHours*60,militaryMode)}</strong>`;
  }

  repSlider.addEventListener("input",updateTimes);
  prospectSlider.addEventListener("input",updateTimes);
  toggleBtn.addEventListener("click",()=>{militaryMode=!militaryMode;updateTimes();});
  countryInput.addEventListener("input",()=>{
    const val=countryInput.value;
    if(tzData[val]) populateProspectZones(val);
  });
  repSelect.addEventListener("change",updateTimes);
  prospectSelect.addEventListener("change",updateTimes);

  populateRepTimezones();
  repSelect.value="America/Chicago";
  updateTimes();
</script>
</body>
</html>
